<?phpnamespace Common\Model;use Think\Model;class _BaseModel extends Model{	/**	 * 添加规则	 *@param  array  规则数组	 *@param unknown_type $lock 0-不加锁   1-加锁	 *@return  array  [number,array]	 *@create 2014-12-12	 *@author  zjf	 */	public function add_item($data,$lock=0){		$data = $this->create($data);		if(!$data){			return array('status'=>0,'error'=>$this->getError());		}		else{			if(!$lock){				return array('status'=>$this->add());			}else{				return array('status'=>$this->lock(true)->add());			}		}	}	/**	 * 删除规则	 *@param  array  删除条件	 *@return  array  false-删除失败   0-未删除   number-删除的记录数	 *@create 2014-12-12	 *@author  zjf	 */	public function del_item($where,$lock=0){		if(is_array($where)){			if(!$lock){				return $this->where($where)->delete();			}else{				return $this->lock(true)->where($where)->delete();			}		}	}	/**	 * 编辑规则	 *@param  array  规则条件	 *@return  array  false-保存失败   0-未保存   number-保存的记录数	 *@create 2014-12-12	 *@author  zjf	 */	public function save_item($data,$lock=0){		$data = $this->create($data);		if(!$data){			return array('status'=>0,'msg'=>$this->getError());		}else{			if(!$lock){				$res = $this->save();			}else{				$res = $this->lock(true)->save();			}			if(false !== $res){				return array('status'=>1,'msg'=>'保存成功');			}else{				return array('status'=>0,'msg'=>'保存失败！');			}		}	}	/**	 * 获取规则列表	 *@param  array|number  规则条件，模式(0-单条  1-多条)	 *@return  array	 *@create 2014-12-12	 *@author  zjf	 */	public function get_item($where,$type = 0,$order='',$lock=0){		if($type == 1){			if(!$lock){				return $this->where($where)->field(true)->order($order)->select();			}else{				return $this->lock(true)->where($where)->field(true)->order($order)->select();			}		}elseif($type == 0){			if(!$lock){				return $this->where($where)->field(true)->find();			}else{				return $this->lock(true)->where($where)->field(true)->find();			}		}	}	/**	 * 状态设置	 *@param  array|number  条件数组|状态值	 *@return  array  0-操作失败  1-操作成功	 *@create 2014-12-12	 *@author  zjf	 */	public function set_status($where,$number){		$res = $this->where($where)->setField('status',$number);		if(false !== $res){			return 1;		}else{			return 0;		}	}}